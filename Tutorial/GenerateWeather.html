<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="MATLAB R2016a"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><title>Tutorial for Using the NYCTaxi Package to Generate Weather Data</title><style type="text/css">
* {margin: 0; padding: 0;}
body {text-align: start; line-height: 17.2339992523193px; min-height: 0px; white-space: normal; color: rgb(0, 0, 0); font-family: Consolas, Inconsolata, Menlo, monospace; font-style: normal; font-size: 13.9999990463257px; font-weight: normal; text-decoration: none; white-space: normal; }
h1, h2 {font-weight: normal;}
.content { padding: 30px; }

.S0 { margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S1 { line-height: 26.3999977111816px; min-height: 24px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-size: 22px; white-space: pre-wrap; margin-left: 4px; margin-top: 3px; margin-bottom: 15px; margin-right: 10px;  }
.S2 { min-height: 0px; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S3 { line-height: 26.3999977111816px; min-height: 24px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-size: 22px; white-space: pre-wrap; margin-left: 4px; margin-top: 10px; margin-bottom: 15px; margin-right: 10px;  }
.S4 { line-height: 20.576000213623px; min-height: 20px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; white-space: pre-wrap; margin-left: 4px; margin-top: 15px; margin-bottom: 9px; margin-right: 10px;  }
.S5 { line-height: 21px; min-height: 17px; white-space: pre-wrap; font-family: Helvetica, Arial, sans-serif; white-space: pre-wrap; margin-left: 4px; margin-top: 2px; margin-bottom: 9px; margin-right: 10px;  }
.S6 { min-height: 0px; color: rgb(0, 95, 206); margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S7 { margin-left: 3px; margin-top: 10px; margin-bottom: 4px; margin-right: 3px;  }
.S8 { line-height: 15.5926666259766px; min-height: 18px; white-space: nowrap; font-size: 12.6666669845581px; white-space: nowrap; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S9 { line-height: 15.5926675796509px; min-height: 0px; white-space: pre; white-space: pre; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S10 { line-height: 15.5926675796509px; min-height: 0px; white-space: pre; color: rgb(160, 32, 240); white-space: pre; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 45px;  }
.S11 { line-height: 15.5926675796509px; min-height: 0px; white-space: pre; color: rgb(160, 32, 240); white-space: pre; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S12 { line-height: 15.5926675796509px; min-height: 0px; white-space: pre; white-space: pre; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 45px;  }
.S13 { color: rgb(64, 64, 64); margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S14 { margin-left: 3px; margin-top: 10px; margin-bottom: 10px; margin-right: 3px;  }
.S15 { line-height: 21px; min-height: 17px; white-space: pre-wrap; font-family: Helvetica, Arial, sans-serif; white-space: pre-wrap; margin-left: 4px; margin-top: 10px; margin-bottom: 9px; margin-right: 10px;  }
.S16 { min-height: 0px; font-weight: bold; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S17 { line-height: 15.5926675796509px; min-height: 0px; white-space: pre; color: rgb(34, 139, 34); white-space: pre; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 45px;  }
.S18 { line-height: 20.576000213623px; min-height: 20px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; white-space: pre-wrap; margin-left: 4px; margin-top: 3px; margin-bottom: 9px; margin-right: 10px;  }

.LineNodeBlock {margin: 10px 0 10px 0;}
.LineNodeBlock+.paragraphNode {margin-top: 10px;}
.lineNode {padding-left: 10px; background-color: #F7F7F7; border-left: 1px solid #E9E9E9; border-right: 1px solid #E9E9E9;}
.inlineWrapper:first-child .lineNode,.inlineWrapper.outputs+.inlineWrapper .lineNode {padding-top: 5px; border-top: 1px solid #E9E9E9;}
.inlineWrapper:last-child .lineNode,.inlineWrapper.outputs .lineNode {padding-bottom: 5px; border-bottom: 1px solid #E9E9E9;}
.lineNode .textBox {white-space: pre;}
.outputGroup {margin: 2px 0 2px 0; padding: 2px 2px 2px 4px;}
.outputRegion {}
.outputParagraph {color: rgba(64, 64, 64, 1); padding: 10px 0 6px 17px; background: white; overflow-x: hidden;}
.inlineWrapper:last-child .outputParagraph {border-bottom-left-radius: 4px; border-bottom-right-radius: 4px;}
.outputParagraph:empty {margin: 0;}
.inlineElement .symbolicElement {margin-top: 1px; margin-bottom: 1px;}
.embeddedOutputsSymbolicElement .MathEquation {margin-top: 4px; margin-bottom: 4px;}
.embeddedOutputsSymbolicElement .MathEquation.displaySymbolicElement {margin-left: 15px;}
.embeddedOutputsSymbolicElement .MathEquation.inlineSymbolicElement {margin-left: 5px;}
.embeddedOutputsSymbolicElement {overflow-x: auto; overflow-y: hidden;}
.embeddedOutputsSymbolicElement { overflow: initial !important;}
.embeddedOutputsTextElement,.embeddedOutputsVariableStringElement {font-family: Consolas, Inconsolata, Menlo, monospace; font-size: 12px; white-space: pre; word-wrap: initial; min-height: 18px; max-height: 250px; overflow: auto;}
.textElement {padding-top: 3px;}
.embeddedOutputsTextElement.inlineElement,.embeddedOutputsVariableStringElement.inlineElement {}
.inlineElement .textElement {}
.embeddedOutputsTextElement,.embeddedOutputsVariableStringElement { max-height: none !important; overflow: initial !important;}
.veSpecifier {}
.veContainer {}
.veSpecifierBox {height: 400px; width: 500px;}
.veSpecifier .veTable {padding-top: 3px; padding-bottom: 4px;}
.veSpecifierBox .veSpecifier .veContainer {position: relative; width: 100%; height: 370px;}
.veSpecifierBox .dijitDialogPaneContent {width: 97% !important; height: 88% !important;}
.veSpecifier .veTable .rowHeadersWrapper {padding-bottom: 0;}
.veSpecifier .veTable .scroller .variableEditorRenderers {padding-right: 3px; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;}
.veVariableValueSummary {display: inline-block;}
.veSpecifier .veTable .topHeaderWrapper,.veSpecifier .veTable .bottomRowHeaderWrapper {visibility: hidden; z-index: 0;}
.veMetaSummary {font-style: italic;}
.veSpecifier .veTable .scroller {overflow: hidden;}
.veSpecifier .veTable:hover .scroller {overflow: auto;}
.veSpecifier .veVariableName,.veSpecifier .veDimensionFont {font-family: Consolas, Inconsolata, Menlo, monospace; font-size: 12px;}
.veSpecifier .veVariableName {padding-top: 2px;}
.veSpecifier .veDimensionFont {font-style: italic; color: #9A9A9A;}
.veSpecifier .scroller::-webkit-scrollbar-track {background-color: white;}
.veSpecifier .scroller::-webkit-scrollbar-corner {background-color: white;}
.veSpecifier .veTable .topRowHeaderWrapper {border: none; background-color: #F8F9FA;}
.veSpecifier .mw_type_ListBase.showCellBorders,.veSpecifier .veTable .topHeaderWrapper,.veSpecifier .veTable .bottomRowHeaderWrapper,.veSpecifier .veTable .verticalScrollSpacer,.veSpecifier .veTable .horizontalScrollSpacer {border: none;}
.veSpecifier .veTable .dataScrollerNode {border: 1px solid #BFBFBF;}
.veSpecifier .veTable .columnHeaderNode,.veSpecifier .veTable .rowHeaderNode,.veSpecifier .veTable .dataBody {font-family: Arial; font-size: 13px;}
.veSpecifier .veTable .columnHeaderNode,.veSpecifier .veTable .rowHeaderNode {color: #7F7F7F;}
.veSpecifier .veTable .dataBody {color: #000000;}
.veSpecifier .veTable .columnHeaderNode .cell .drag,.veSpecifier .veTable .columnHeaderNode .cell .header,.veSpecifier .veTable .topHeaderWrapper,.veSpecifier .veTable .bottomRowHeaderWrapper {background-color: #F8F9FA;}
.veSpecifier .veTable .columnHeaderNode .cell .dragBorder {border-right: 1px solid #F8F9FA;}
.veSpecifier .veTable .rowHeaderNode .cell {padding-top: 3px; text-align: center; border-bottom: 1px solid #F8F9FA;}
.veSpecifier .veTable .dataBody .cell .plainText {text-align: right;}
.veSpecifier .veTable .dataBody .row .cell {border-bottom: 1px solid #E9E9E9; border-right: 1px solid #E9E9E9;}
.embeddedOutputsVariableElement {font-family: Consolas, Inconsolata, Menlo, monospace; font-size: 12px; white-space: pre-wrap; word-wrap: break-word; min-height: 18px; max-height: 250px; overflow: auto;}
.variableElement {}
.embeddedOutputsVariableElement.inlineElement {}
.inlineElement .variableElement {}
.variableValue { width: 100% !important; }
.embeddedOutputsMatrixElement {min-height: 18px; box-sizing: border-box; font-family: Consolas, Inconsolata, Menlo, monospace; font-size: 12px;}
.embeddedOutputsMatrixElement .matrixElement{position: relative;}
.matrixElement .variableValue {white-space: pre; display: inline-block; vertical-align: top; overflow: hidden;}
.embeddedOutputsMatrixElement.inlineElement {}
.embeddedOutputsMatrixElement.inlineElement .topHeaderWrapper {display: none;}
.embeddedOutputsMatrixElement.inlineElement .veTable .body {padding-top: 0 !important; max-height: 100px;}
.embeddedOutputsMatrixElement.inlineElement .veVariableName {padding-top: 0;}
.inlineElement .matrixElement {max-height: 300px;}
.embeddedOutputsMatrixElement .matrixElement .valueContainer {white-space: nowrap; padding-top: 10px; margin-bottom: 3px;}
.embeddedOutputsMatrixElement .matrixElement .valueContainer .horizontalEllipsis.hide,.embeddedOutputsMatrixElement .matrixElement .verticalEllipsis.hide {display: none;}
.embeddedOutputsMatrixElement .matrixElement .valueContainer .horizontalEllipsis {margin-bottom: -3px;}
.matrixElement { max-height: none !important; }
.dijitTooltipDialog .dijitTooltipContainer .dijitTooltipContents .alertPlugin-alertMessage {min-width: 12px; max-width: 400px; max-height: 300px; overflow: auto;}
.dijitTooltipDialog .alertPlugin-alertMessage::-webkit-scrollbar {width: 11px; height: 11px;}
.dijitTooltipDialog .alertPlugin-alertMessage::-webkit-scrollbar-track {background-color: rgba(0, 0, 0, 0);}
.dijitTooltipDialog .alertPlugin-alertMessage::-webkit-scrollbar-corner {background-color: rgba(0, 0, 0, 0);}
.dijitTooltipDialog .alertPlugin-alertMessage::-webkit-scrollbar-thumb {border-radius: 7px; background-color: rgba(0, 0, 0, 0.1); border: 2px solid rgba(0, 0, 0, 0); background-clip: padding-box;}
.dijitTooltipDialog .alertPlugin-alertMessage::-webkit-scrollbar-thumb:hover {background-color: rgba(0, 0, 0, 0.2);}
.dijitTooltipDialog .alertPlugin-alertMessage::-webkit-scrollbar-thumb {background-color: rgba(0, 0, 0, 0);}
.dijitTooltipDialog .alertPlugin-alertMessage:hover::-webkit-scrollbar-thumb {background-color: rgba(0, 0, 0, 0.1);}
.dijitTooltipDialog .alertPlugin-alertMessage:hover::-webkit-scrollbar-thumb:hover {background-color: rgba(0, 0, 0, 0.2);}
.alertPlugin-alertLine {position: absolute; display: initial; width: 40px; text-align: right; cursor: text;}
.alertPlugin-onTextLine {visibility: hidden;}
.alertPlugin-hasTooltip .alertPlugin-warningImg,.alertPlugin-hasTooltip .alertPlugin-errorImg {cursor: pointer;}
.alertPlugin-alertLine .alertPlugin-warningElement,.alertPlugin-alertLine .alertPlugin-errorElement {display: inline-block; margin-right: 4px;}
.alertPlugin-isStale {-webkit-filter: opacity(0.4) grayscale(80%); filter: opacity(0.4) grayscale(80%);}
.diagnosticMessage-wrapper {font-family: Consolas, Inconsolata, Menlo, monospace; font-size: 12px;}
.diagnosticMessage-wrapper.diagnosticMessage-warningType {color: rgb(255,100,0);}
.diagnosticMessage-wrapper.diagnosticMessage-warningType a {color: rgb(255,100,0); text-decoration: underline;}
.diagnosticMessage-wrapper.diagnosticMessage-errorType {color: rgb(230,0,0);}
.diagnosticMessage-wrapper.diagnosticMessage-errorType a {color: rgb(230,0,0); text-decoration: underline;}
.diagnosticMessage-wrapper .diagnosticMessage-messagePart {white-space: pre-wrap;}
.diagnosticMessage-wrapper .diagnosticMessage-stackPart {white-space: pre;}
.embeddedOutputsWarningElement{min-height: 18px; max-height: 250px; overflow: auto;}
.embeddedOutputsWarningElement.inlineElement {}
.embeddedOutputsErrorElement {min-height: 18px; max-height: 250px; overflow: auto;}
.embeddedOutputsErrorElement.inlineElement {}
</style></head><body><div class = "content"><div class = 'SectionBlock containment active'><h1 class = "S1"><span class = "S2">Tutorial for Using the NYCTaxi Package to Generate Weather Data</span></h1><h1 class = "S3"><span class = "S2">Clean Weather Data</span></h1><h2 class = "S4"><span class = "S2">import and clean the raw data.</span></h2><p class = "S5"><span class = "S2">The raw data can be requested from NOAA. Read </span><a href = 'https://github.com/LiutongZhou/NYC_Taxi_Demand_Prediction'><span class = "S0">this page</span></a><span class = "S2"> to see where to get the raw data.</span></p><p class = "S5"><span class = "S2">It takes a while the first time you run.</span></p><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">import </span><span class = "S10">NYCTaxi.*</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">file_dir=</span><span class = "S11">'S:\DataBackup\Weather'</span><span class = "S12">;</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">file=fullfile(file_dir,</span><span class = "S11">'Weather_NYC_CentralPark_2009_2017.csv'</span><span class = "S12">);</span></p></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S9">tic,</span><span class = "S9">weather</span><span class = "S12">=Weather(file);toc</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="9906E990" data-testid="output_0" data-width="678" style="width: 708px;"><div class="textElement">Raw data cleaned and saved to S:\DataBackup\Weather\Clean_Weather.csv<br>时间已过 26.617592 秒。<br>Clean daily weather is generated and saved to S:\DataBackup\Weather\Clean_Daily.csv<br>时间已过 27.305457 秒。<br>Clean Hourly weather is generated and saved to S:\DataBackup\Weather\Clean_Hourly.csv<br>时间已过 57.961610 秒。<br>Clean Weather Completed!</div></div><div class="inlineElement embeddedOutputsTextElement" uid="28FB692C" data-testid="output_1" data-width="678" style="width: 708px;"><div class="textElement">时间已过 60.223509 秒。</div></div></div></div></div></div><p class = "S0"></p><div class = 'SectionBlock containment'><p class = "S5"><span class = "S2">The second time you use the Weather class requires less time</span></p><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">clearvars </span><span class = "S11">weather</span><span class = "S12">;</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">import </span><span class = "S10">NYCTaxi.*</span></p></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S12">tic,weather=Weather(file);toc</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="F556660D" data-testid="output_2" data-width="678" style="width: 708px;"><div class="textElement">时间已过 5.437506 秒。</div></div></div></div></div><p class = "S15"><span class = "S2">In case you modified the raw data set, you can manually call the </span><span class = "S16">CleanWeather</span><span class = "S2"> </span><span class = "S16">Method</span><span class = "S2"> to update the dependent files.</span></p><p class = "S5"><span class = "S2">For example: </span></p><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S17">%weather.CleanWeather</span></p></div></div></div><p class = "S0"></p><div class = 'SectionBlock containment'><p class = "S5"><span class = "S2">The </span><span class = "S16">NYCTaxi.Weather Class</span><span class = "S2"> has the following </span><span class = "S16">properties</span><span class = "S2"> and </span><span class = "S16">methods </span></p><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S12">properties(weather)</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="3D2E8A6D" data-testid="output_3" data-width="678" style="width: 708px;"><div class="textElement">类 NYCTaxi.Weather 的属性:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;path<br>&nbsp;&nbsp;&nbsp;&nbsp;file_name<br>&nbsp;&nbsp;&nbsp;&nbsp;rawdata<br>&nbsp;&nbsp;&nbsp;&nbsp;daily<br>&nbsp;&nbsp;&nbsp;&nbsp;hourly<br>&nbsp;&nbsp;&nbsp;&nbsp;DailyWeatherTypes<br>&nbsp;&nbsp;&nbsp;&nbsp;HourlyWeatherTypes</div></div></div></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S12">methods(weather)</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="01B3A0D4" data-testid="output_4" data-width="678" style="width: 708px;"><div class="textElement">类 NYCTaxi.Weather 的方法:<br><br>CleanWeather&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParseWeatherType&nbsp;&nbsp;Weather&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; refine&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save2mat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>Static 方法:<br><br>convert2hdf5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>从 handle 继承的 NYCTaxi.Weather 的方法。</div></div></div></div></div></div><p class = "S0"></p><div class = 'SectionBlock containment'><h2 class = "S18"><span class = "S2">Show Clean Weather data</span></h2><p class = "S5"><span class = "S2">show hourly data</span></p><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S9">disp(</span><span class = "S11">'Hourly Weather'</span><span class = "S12">);disp(weather.hourly(1:2,:))</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement scrollableOutput" uid="A4C3445A" data-testid="output_5" data-width="678" style="width: 708px;"><div class="textElement">Hourly Weather<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datetime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HourlyWeatherType&nbsp;&nbsp;&nbsp;&nbsp;Hourlydrybulbtempc&nbsp;&nbsp;&nbsp;&nbsp;Hourlywindspeed&nbsp;&nbsp;&nbsp;&nbsp;Hourlyprecip<br>&nbsp;&nbsp;&nbsp;&nbsp;___________________&nbsp;&nbsp;&nbsp;&nbsp;_________________&nbsp;&nbsp;&nbsp;&nbsp;__________________&nbsp;&nbsp;&nbsp;&nbsp;_______________&nbsp;&nbsp;&nbsp;&nbsp;____________<br><br>&nbsp;&nbsp;&nbsp;&nbsp;2009-01-01 00:51:00&nbsp;&nbsp;&nbsp;&nbsp;''&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -7.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;2009-01-01 01:51:00&nbsp;&nbsp;&nbsp;&nbsp;''&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -7.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div></div></div></div></div><p class = "S15"><span class = "S2">show daily data</span></p><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S9">disp(</span><span class = "S11">'Daily Weather'</span><span class = "S12">);disp(weather.daily(1:2,:))</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement scrollableOutput" uid="959DC061" data-testid="output_6" data-width="678" style="width: 708px;"><div class="textElement">Daily Weather<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datetime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Dailyweather&nbsp;&nbsp;&nbsp;&nbsp;Dailysnowfall&nbsp;&nbsp;&nbsp;&nbsp;Dailysnowdepth&nbsp;&nbsp;&nbsp;&nbsp;Dailysustainedwindspeed<br>&nbsp;&nbsp;&nbsp;&nbsp;___________________&nbsp;&nbsp;&nbsp;&nbsp;____________&nbsp;&nbsp;&nbsp;&nbsp;_____________&nbsp;&nbsp;&nbsp;&nbsp;______________&nbsp;&nbsp;&nbsp;&nbsp;_______________________<br><br>&nbsp;&nbsp;&nbsp;&nbsp;2009-01-01 23:59:00&nbsp;&nbsp;&nbsp;&nbsp;''&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 23&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;2009-01-02 23:59:00&nbsp;&nbsp;&nbsp;&nbsp;'SN:18'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 17&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div></div></div></div></div></div><p class = "S0"></p><div class = 'SectionBlock containment'><p class = "S5"><span class = "S2">refine data</span></p><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S12">refined=weather.refine;</span></p></div></div></div><p class = "S0"></p><div class = 'SectionBlock containment'><p class = "S5"><span class = "S2">show refined data</span></p><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S9">disp(</span><span class = "S11">'refined weather data'</span><span class = "S12">);</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="F0FDD77E" data-testid="output_7" data-width="678" style="width: 708px;"><div class="textElement">refined weather data</div></div></div></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S12">disp(refined(1:2,:))</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement scrollableOutput" uid="DD52C2A6" data-testid="output_8" data-width="678" style="width: 708px;"><div class="textElement">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datetime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Hourlydrybulbtempc&nbsp;&nbsp;&nbsp;&nbsp;Hourlywindspeed&nbsp;&nbsp;&nbsp;&nbsp;Hourlyprecip&nbsp;&nbsp;&nbsp;&nbsp;HourlyWeatherType&nbsp;&nbsp;&nbsp;&nbsp;Dailysnowfall&nbsp;&nbsp;&nbsp;&nbsp;Dailysnowdepth&nbsp;&nbsp;&nbsp;&nbsp;Dailysustainedwindspeed&nbsp;&nbsp;&nbsp;&nbsp;DailyWeatherType<br>&nbsp;&nbsp;&nbsp;&nbsp;___________________&nbsp;&nbsp;&nbsp;&nbsp;__________________&nbsp;&nbsp;&nbsp;&nbsp;_______________&nbsp;&nbsp;&nbsp;&nbsp;____________&nbsp;&nbsp;&nbsp;&nbsp;_________________&nbsp;&nbsp;&nbsp;&nbsp;_____________&nbsp;&nbsp;&nbsp;&nbsp;______________&nbsp;&nbsp;&nbsp;&nbsp;_______________________&nbsp;&nbsp;&nbsp;&nbsp;________________<br><br>&nbsp;&nbsp;&nbsp;&nbsp;2009-01-01 00:51:00&nbsp;&nbsp;&nbsp;&nbsp;-7.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [1x15 logical]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 23&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [1x9 logical]&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;2009-01-01 01:51:00&nbsp;&nbsp;&nbsp;&nbsp;-7.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [1x15 logical]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 23&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [1x9 logical]&nbsp;&nbsp; </div></div></div></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S12"></span></p></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S9">disp(</span><span class = "S11">'Daily Weather Types:'</span><span class = "S12">)</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="F26AD515" data-testid="output_9" data-width="678" style="width: 708px;"><div class="textElement">Daily Weather Types:</div></div></div></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S12">disp(weather.DailyWeatherTypes)</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="14AA4325" data-testid="output_10" data-width="678" style="width: 708px;"><div class="textElement">&nbsp;&nbsp;&nbsp;&nbsp;'Mist'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Fog'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Ice Fog'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Freezing Rain'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Haze'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Rain'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Snow'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Thunder'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Unknown Precipitation'</div></div></div></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S9">disp(</span><span class = "S11">'Hourly Weather Types: '</span><span class = "S12">)</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="69B8D875" data-testid="output_11" data-width="678" style="width: 708px;"><div class="textElement">Hourly Weather Types: </div></div></div></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S12">disp(weather.HourlyWeatherTypes)</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="4D15629F" data-testid="output_12" data-width="678" style="width: 708px;"><div class="textElement">&nbsp;&nbsp;&nbsp;&nbsp;'Heavy Rain'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Heavy Snow'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Light Rain'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Light Snow'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Mist'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Fog'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Smoke'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Freezing Rain'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Haze'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Rain'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Snow'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Squall'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Thunder without rain'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Thunder with rain'<br>&nbsp;&nbsp;&nbsp;&nbsp;'Unknown Precipitation'</div></div></div></div></div></div><p class = "S0"></p><div class = 'SectionBlock containment'><h1 class = "S1"><span class = "S2">Generate HDF5 dataset as training input</span></h1><h2 class = "S4"><span class = "S2">Save Refined data to Meteorology.mat</span></h2><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">outputpath=</span><span class = "S11">'D:\OneDrive - Columbia University\2017Spring\Research\Data\Data'</span><span class = "S12">;</span></p></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S12">weather.save2mat(outputpath);</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement" uid="54E0FD60" data-testid="output_13" data-width="678" style="width: 708px;"><div class="textElement">Refined Weather Data saved to: <br>D:\OneDrive - Columbia University\2017Spring\Research\Data\Data\Meteorology.mat</div></div></div></div></div></div><p class = "S0"></p><div class = 'SectionBlock containment'><h2 class = "S18"><span class = "S2">Save to Meteorology.h5</span></h2><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">outputpath=</span><span class = "S11">'D:\OneDrive - Columbia University\2017Spring\Research\Data\Data'</span><span class = "S12">;</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">filename=</span><span class = "S11">'Meteorology.mat'</span><span class = "S12">;</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S12">filename=fullfile(outputpath,filename);</span></p></div><div class = 'inlineWrapper outputs'><p class = "S8 lineNode"><span class = "S12">NYCTaxi.Weather.convert2hdf5(filename);</span></p><div class="outputParagraph"><div class="inlineElement embeddedOutputsTextElement scrollableOutput" uid="935FE5A1" data-testid="output_14" data-width="678" style="width: 708px;"><div class="textElement">mat file has been converted to<br>D:\OneDrive - Columbia University\2017Spring\Research\Data\Data\Meteorology.h5<br>HDF5 Meteorology.h5 <br>Group '/' <br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'DailySnowDepth' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_IEEE_F64LE (double)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FillValue:&nbsp;&nbsp;0.000000<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'DailySnowFall' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_IEEE_F64LE (double)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FillValue:&nbsp;&nbsp;0.000000<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'DailyWeatherType' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;96110x9<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;96110x9<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_IEEE_F64LE (double)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FillValue:&nbsp;&nbsp;0.000000<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'DailyWeatherTypes' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;9<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;Inf<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_STRING<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String Length: variable<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Padding: H5T_STR_NULLTERM<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Character Set: H5T_CSET_ASCII<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Character Type: H5T_C_S1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;2<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'Datetime' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;96110<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;Inf<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_STRING<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String Length: variable<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Padding: H5T_STR_NULLTERM<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Character Set: H5T_CSET_ASCII<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Character Type: H5T_C_S1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;2<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'HourlyPrecipitation' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_IEEE_F64LE (double)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FillValue:&nbsp;&nbsp;0.000000<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'HourlyWeatherType' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;96110x15<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;96110x15<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_IEEE_F64LE (double)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FillValue:&nbsp;&nbsp;0.000000<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'HourlyWeatherTypes' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;15<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;Inf<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_STRING<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String Length: variable<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Padding: H5T_STR_NULLTERM<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Character Set: H5T_CSET_ASCII<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Character Type: H5T_C_S1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;2<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'HourlyWindSpeed' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_IEEE_F64LE (double)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FillValue:&nbsp;&nbsp;0.000000<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'SustainedWindSpeed' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_IEEE_F64LE (double)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FillValue:&nbsp;&nbsp;0.000000<br>&nbsp;&nbsp;&nbsp;&nbsp;Dataset 'Temperature' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxSize:&nbsp;&nbsp;96110x1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datatype:&nbsp;&nbsp; H5T_IEEE_F64LE (double)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChunkSize:&nbsp;&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filters:&nbsp;&nbsp;none<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FillValue:&nbsp;&nbsp;0.000000</div></div></div></div></div></div><p class = "S0"></p><div class = 'SectionBlock containment'><h2 class = "S18"><span class = "S2">Read BJ_Meteorology.h5</span></h2><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">file=</span><span class = "S11">'D:\OneDrive - Columbia University\2017Spring\Research\Data\BJ_Meteorology.h5'</span><span class = "S12">;</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S17">%h5disp(file);</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S12">tb=table();</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">tb.Date=h5read(file,</span><span class = "S11">'/date'</span><span class = "S12">);</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">tb.Weather=h5read(file,</span><span class = "S11">'/Weather'</span><span class = "S12">)';</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">tb.Temperature=h5read(file,</span><span class = "S11">'/Temperature'</span><span class = "S12">);</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">tb.WindSpeed=h5read(file,</span><span class = "S11">'/WindSpeed'</span><span class = "S12">);</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">tb=sortrows(tb,</span><span class = "S11">'Date'</span><span class = "S12">);</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S12">disp(tb(1:2,:))</span></p></div></div><h2 class = "S4"><span class = "S2">Read BJ16_M32x32_T30_InOut.h5</span></h2><div class = 'LineNodeBlock contiguous'><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">file=</span><span class = "S11">'D:\OneDrive - Columbia University\2017Spring\Research\Data\BJ16_M32x32_T30_InOut.h5'</span><span class = "S12">;</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S17">%h5disp(file);</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S12">tb2=table();</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">tb2.Date=h5read(file,</span><span class = "S11">'/date'</span><span class = "S12">);</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S9">tb2=sortrows(tb2,</span><span class = "S11">'Date'</span><span class = "S12">);</span></p></div><div class = 'inlineWrapper'><p class = "S8 lineNode"><span class = "S12">disp(tb2(1:2,:))</span></p></div></div></div></div>
<!-- 
##### SOURCE BEGIN #####
%% Tutorial for Using the NYCTaxi Package to Generate Weather Data
%% Clean Weather Data
%% import and clean the raw data.
% The raw data can be requested from NOAA. Read <https://github.com/LiutongZhou/NYC_Taxi_Demand_Prediction 
% this page> to see where to get the raw data.
% 
% It takes a while the first time you run.

import NYCTaxi.*
file_dir='S:\DataBackup\Weather';
file=fullfile(file_dir,'Weather_NYC_CentralPark_2009_2017.csv');
tic,weather=Weather(file);toc
%% 
% The second time you use the Weather class requires less time

clearvars weather;
import NYCTaxi.*
tic,weather=Weather(file);toc
%% 
% In case you modified the raw data set, you can manually call the *CleanWeather* 
% *Method* to update the dependent files.
% 
% For example: 

%weather.CleanWeather
%% 
% The *NYCTaxi.Weather Class* has the following *properties* and *methods 
% *

properties(weather)
methods(weather)
%% Show Clean Weather data
% show hourly data

disp('Hourly Weather');disp(weather.hourly(1:2,:))
%% 
% show daily data

disp('Daily Weather');disp(weather.daily(1:2,:))
%% 
% refine data

refined=weather.refine;
%% 
% show refined data

disp('refined weather data');
disp(refined(1:2,:))

disp('Daily Weather Types:')
disp(weather.DailyWeatherTypes)
disp('Hourly Weather Types: ')
disp(weather.HourlyWeatherTypes)
%% Generate HDF5 dataset as training input
%% Save Refined data to Meteorology.mat

outputpath='D:\OneDrive - Columbia University\2017Spring\Research\Data\Data';
weather.save2mat(outputpath);
%% Save to Meteorology.h5

outputpath='D:\OneDrive - Columbia University\2017Spring\Research\Data\Data';
filename='Meteorology.mat';
filename=fullfile(outputpath,filename);
NYCTaxi.Weather.convert2hdf5(filename);
%% Read BJ_Meteorology.h5

file='D:\OneDrive - Columbia University\2017Spring\Research\Data\BJ_Meteorology.h5';
%h5disp(file);
tb=table();
tb.Date=h5read(file,'/date');
tb.Weather=h5read(file,'/Weather')';
tb.Temperature=h5read(file,'/Temperature');
tb.WindSpeed=h5read(file,'/WindSpeed');
tb=sortrows(tb,'Date');
disp(tb(1:2,:))
%% Read BJ16_M32x32_T30_InOut.h5

file='D:\OneDrive - Columbia University\2017Spring\Research\Data\BJ16_M32x32_T30_InOut.h5';
%h5disp(file);
tb2=table();
tb2.Date=h5read(file,'/date');
tb2=sortrows(tb2,'Date');
disp(tb2(1:2,:))
##### SOURCE END #####
--></body></html>